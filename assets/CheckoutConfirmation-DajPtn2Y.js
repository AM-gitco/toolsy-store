import{j as e}from"./ui-BfOL7Pw6.js";import{u as s,f as r,r as t}from"./router-BXFWiZbc.js";import{a,b as i,c,C as o}from"./card-BQXi3xZY.js";import{B as n}from"./button-CmvG0lOO.js";import{B as l}from"./badge-D8FtP9-V.js";import{A as m,a as d}from"./alert-DcEmRu5y.js";import{H as x}from"./Header-CMjDRm3Z.js";import{u}from"./index-ud4XQfz4.js";import{C as p}from"./CurrencyDisplay-BCzKL-MM.js";import{S as h,u as j,C as f}from"./CheckoutModal-CAKXX8SL.js";import{C as g}from"./circle-check-big-DcnsFF-J.js";import{U as N}from"./user-Dr4rv7sj.js";import{M as b}from"./mail-DefGHly8.js";import{M as y}from"./message-circle-DFpE3xjH.js";import{S as v}from"./shield-BPn5TLBB.js";import{C as w}from"./copy-Bzr4DZ5N.js";import{E as _}from"./eye-off-BaTaP-XJ.js";import{E as C}from"./eye-B88tXCV3.js";import{C as P}from"./clock-XSsOJgEy.js";import{S as k}from"./shopping-cart-CxQptf5P.js";import{P as S}from"./trash-2-B6gUF_4e.js";import{A}from"./arrow-left-Tt42aMK4.js";import"./vendor-B5BPFqys.js";import"./toolsy-logo-C0HmbZOG.js";import"./CurrencySelector-Dp-scm2k.js";import"./select-CNwGciQv.js";import"./supabase-DlLlES7-.js";import"./charts-AXPLIc8O.js";import"./motion-BU2psJSs.js";import"./input-zfUHz5B2.js";import"./label-Dbe54ejA.js";import"./SubscriptionReceipt-ptagqDc7.js";import"./download-CTDHp3SY.js";import"./search-C-So4q_e.js";const z=[{id:"prod-1",name:"Perplexity AI",category:"ai-tools",subscription_type:"shared",subscription_period:"1_month",price:1e3,custom_price:null},{id:"prod-2",name:"ChatGPT Plus",category:"ai-tools",subscription_type:"private",subscription_period:"1_month",price:2e3,custom_price:null},{id:"prod-3",name:"Google Pro Plan",category:"productivity",subscription_type:"semi_private",subscription_period:"3_months",price:1500,custom_price:null},{id:"prod-4",name:"Canva Pro",category:"design",subscription_type:"shared",subscription_period:"1_year",price:3e3,custom_price:null},{id:"prod-5",name:"Midjourney",category:"ai-tools",subscription_type:"private",subscription_period:"1_month",price:2500,custom_price:null},{id:"prod-6",name:"Figma Professional",category:"design",subscription_type:"semi_private",subscription_period:"6_months",price:1800,custom_price:null}],T=()=>{const h=s(),T=r(),{toast:I}=u(),{cartItems:$,addToCart:E,getTotalItems:H,getTotalPrice:M}=j(),[U,Y]=t.useState(!1),[B,R]=t.useState(null),[W,D]=t.useState(!1),[O,F]=t.useState(!1);t.useEffect(()=>{const e=h.state?.result;e?R(e):T("/")},[h.state,T]);const G=e=>{navigator.clipboard.writeText(e),I({title:"Copied!",description:"Code copied to clipboard"})};return B?e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(x,{}),e.jsx("div",{className:"flex-1 container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(a,{className:"mb-6",children:e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-10 h-10 text-green-600"})}),e.jsx(c,{className:"text-3xl text-green-600",children:B.is_returning_user?"Purchase Successful!":"Account Created!"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:B.is_returning_user?"New product codes generated for your existing account":"Your account has been created successfully"})]})}),e.jsxs(a,{className:"mb-6",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"Account Information"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:B.user_name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:B.user_email})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(l,{variant:B.is_returning_user?"secondary":"default",children:B.is_returning_user?"Returning Customer":"New Customer"})})]})]}),e.jsx(a,{className:"mb-6",children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(y,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-800 text-lg",children:"Next Step: Send Product Codes"})]}),e.jsx("p",{className:"text-green-700 mb-4",children:"Send your Product Code(s) to our WhatsApp for activation. Our admin will approve your access within 24 hours."}),e.jsxs(n,{onClick:()=>{if(!B)return;const e=B.product_codes.map(e=>`â€¢ ${e.product_code} (${e.product_name})`).join("\n"),s=`Hi! I just completed my purchase and here are my details:\n\n${B.is_returning_user?"Returning Customer":"New Customer"}\nUser Code: ${B.user_code}\nEmail: ${B.user_email}\n\nProduct Codes:\n${e}\n\nTotal: ${B.total_amount} ${B.currency}\n\nPlease approve my product codes and provide access. Thank you!`;window.open(`https://wa.me/923415685257?text=${encodeURIComponent(s)}`,"_blank")},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Send Product Codes via WhatsApp"]})]})})}),e.jsxs(a,{className:"mb-6",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),B.is_returning_user?"Your User Code":"Your New User Code (Permanent)"]})}),e.jsx(o,{children:e.jsxs("div",{className:"bg-primary/5 rounded-lg p-4 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Login Code"}),e.jsx(l,{variant:B.is_returning_user?"secondary":"default",children:B.is_returning_user?"Existing":"New"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"bg-background px-4 py-3 rounded border flex-1 font-mono text-xl font-bold",children:B.user_code}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>G(B.user_code),children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:B.is_returning_user?"This is your permanent login code. Keep it safe!":"This is your permanent login code. Save it for future purchases!"})]})})]}),e.jsxs(a,{className:"mb-6",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Product Codes (Send to Admin)"]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>Y(!U),children:[U?e.jsx(_,{className:"w-4 h-4"}):e.jsx(C,{className:"w-4 h-4"}),U?"Hide":"Show"," Codes"]})]})}),e.jsx(o,{children:U?e.jsx("div",{className:"space-y-4",children:B.product_codes.map((s,r)=>e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-semibold text-amber-800",children:s.product_name}),e.jsxs(l,{variant:"outline",className:"text-amber-700 border-amber-300",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Pending Approval"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"bg-background px-4 py-3 rounded border flex-1 font-mono text-lg font-bold text-amber-800",children:s.product_code}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>G(s.product_code),children:e.jsx(w,{className:"w-4 h-4"})})]})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:'Click "Show Codes" to view your product codes'})]})})]}),e.jsxs(a,{className:"mb-6",children:[e.jsx(i,{children:e.jsx(c,{children:"Purchase Summary"})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Items:"}),e.jsx("span",{className:"font-medium",children:B.product_codes.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Total Amount:"}),e.jsx("span",{className:"font-medium",children:e.jsx(p,{pkrAmount:B.total_amount,size:"sm"})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Status:"}),e.jsxs(l,{variant:"outline",className:"text-amber-600 border-amber-300",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Pending Admin Approval"]})]})]})})]}),e.jsx(a,{className:"mb-6 border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10",children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"w-8 h-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Want to explore more tools?"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Discover our full collection of premium tools and add them to your cart without losing your current items."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(n,{onClick:()=>F(!O),className:"bg-primary hover:bg-primary/90 text-white",size:"lg",children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),O?"Hide Products":"Explore Products"]}),e.jsx(n,{onClick:()=>T("/tools"),variant:"outline",size:"lg",children:"Browse All Products"})]})]})})}),O&&e.jsxs(a,{className:"mb-6",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),"Explore More Products"]}),$.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"default",className:"bg-primary",children:[H()," items in cart"]}),e.jsxs(n,{onClick:()=>D(!0),size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:["Checkout (",H(),")"]})]})]})}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(s=>{return e.jsxs(a,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(i,{className:"pb-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(c,{className:"text-lg",children:s.name}),e.jsx(l,{variant:"outline",className:"text-xs",children:s.subscription_type.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:s.category})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan:"}),e.jsx("span",{className:"text-sm font-medium",children:(r=s.subscription_period,r.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Price:"}),e.jsx(p,{pkrAmount:s.price,size:"sm",className:"font-semibold"})]}),e.jsxs(n,{onClick:()=>E(s),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",size:"sm",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})]},s.id);var r})})})]}),e.jsxs(m,{className:"mb-6",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsxs(d,{children:[e.jsx("strong",{children:"Important:"})," Your product codes will expire in 48 hours if not approved. Please send them to WhatsApp as soon as possible to ensure timely activation."]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(n,{variant:"outline",onClick:()=>T(-1),className:"flex-1",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(n,{onClick:()=>T("/subscriptions"),className:"flex-1",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"View Dashboard"]})]})]})}),e.jsx(f,{isOpen:W,onClose:()=>D(!1),onCompletePurchase:e=>{I({title:"Purchase Successful!",description:"Your additional products have been added to your account."}),D(!1)}})]}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(x,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Loading..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we process your confirmation"})]})})]})},I=()=>e.jsx(h,{children:e.jsx(T,{})});export{I as default};
