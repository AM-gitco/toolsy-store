import{j as e}from"./ui-BfOL7Pw6.js";import{f as t,r}from"./router-BXFWiZbc.js";import{H as s}from"./Header-CMjDRm3Z.js";import{a,C as i}from"./card-BQXi3xZY.js";import{B as o}from"./button-CmvG0lOO.js";import{B as l}from"./badge-D8FtP9-V.js";import{S as n,c,d,e as m,f as p,C as x}from"./select-CNwGciQv.js";import{C as u}from"./CurrencyDisplay-BCzKL-MM.js";import{O as h}from"./OptimizedImage-EQcKTxEc.js";import{a as f,u as g,s as j}from"./index-ud4XQfz4.js";import{a as y,m as b}from"./motion-BU2psJSs.js";import{S as v}from"./star-sriY0a1s.js";import{S as N}from"./shield-BPn5TLBB.js";import{E as w}from"./eye-B88tXCV3.js";import{C as _}from"./clock-XSsOJgEy.js";import{S}from"./sparkles-DyvO9ObI.js";import{L as C}from"./lock-BWdudsmc.js";import{U as k}from"./users-BrkXbF0X.js";import{A as I}from"./arrow-right-CoVjbe0E.js";import{S as A}from"./shopping-cart-CxQptf5P.js";import{I as T}from"./input-zfUHz5B2.js";import{T as P}from"./ToolsLoadingAnimation-B4nw4HY2.js";import{S as V}from"./SchemaMarkup-BwNwYw6C.js";import{S as L}from"./Seo-D7pYws-T.js";import{F as O}from"./filter-C690s5fq.js";import{S as z}from"./search-C-So4q_e.js";import{M as D}from"./message-circle-DFpE3xjH.js";import"./vendor-B5BPFqys.js";import"./toolsy-logo-C0HmbZOG.js";import"./CurrencySelector-Dp-scm2k.js";import"./supabase-DlLlES7-.js";import"./charts-AXPLIc8O.js";import"./zap-z_w9bZbg.js";import"./trending-up-6Khw29yA.js";const F=[{id:"shared",name:"Shared",multiplier:1},{id:"semi_private",name:"Semi-Private",multiplier:1.5},{id:"private",name:"Private",multiplier:2}],M=[{id:"1_month",name:"1 Month",multiplier:1},{id:"3_months",name:"3 Months",multiplier:2.5},{id:"6_months",name:"6 Months",multiplier:4.5},{id:"1_year",name:"1 Year",multiplier:8},{id:"2_years",name:"2 Years",multiplier:14},{id:"lifetime",name:"Lifetime",multiplier:25}],E=({name:s,description:j,features:T,image:P,category:V,rating:L,slug:O,productId:z,verified:D=!0,pricingPlans:E})=>{const H=t(),$=y(),{addToCart:B,isInCart:J}=f(),{toast:U}=g(),[Y,W]=r.useState(""),[R,q]=r.useState(""),[K,Q]=r.useState(!1),X=()=>{if(E&&E.length>0){const e=E.filter(e=>e.is_enabled).map(e=>e.plan_type);return F.filter(t=>e.includes(t.id))}return F},Z=()=>{if(E&&E.length>0){const e=E.filter(e=>e.is_enabled).map(e=>e.monthly_price?"1_month":e.yearly_price?"1_year":"1_month");return M.filter(t=>e.includes(t.id))}return M};r.useEffect(()=>{const e=X(),t=Z();e.length>0&&!Y&&W(e[0].id),t.length>0&&!R&&q(t[0].id)},[E,Y,R]);const G=(e=>{if(!e||0===e.length)return null;let t=e.find(e=>e.is_enabled&&e.monthly_price&&""!==e.monthly_price);if(t)return{price:t.monthly_price.replace(/[^\d.,]/g,"").replace(",",""),period:"month"};let r=e.find(e=>e.is_enabled&&e.yearly_price&&""!==e.yearly_price);if(r)return{price:r.yearly_price.replace(/[^\d.,]/g,"").replace(",",""),period:"year"};return null})(E),ee=G?parseFloat(G.price):0,te=((e,t)=>{if(E&&E.length>0){const r=E.find(r=>{const s=r.plan_type===e,a="1_month"===t&&r.monthly_price||"1_year"===t&&r.yearly_price;return s&&a&&r.is_enabled});if(r){const e="1_month"===t?r.monthly_price:r.yearly_price;return parseFloat(e?.replace(/[^\d.]/g,"")||"0")}}return ee})(Y,R),re=()=>{H(`/product/${O}`)},se=J(z);return e.jsx(b.div,{className:"group relative",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},whileHover:$?{}:{y:-5},children:e.jsx(a,{className:"h-full bg-card/50 backdrop-blur-sm border-border/50 hover:border-primary/30 transition-all duration-300 overflow-hidden group-hover:shadow-2xl group-hover:shadow-primary/10",children:e.jsxs(i,{className:"p-0",children:[e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"aspect-video w-full relative",children:[e.jsx(h,{src:P,alt:s,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(l,{className:"bg-primary/90 text-white border-0 shadow-lg backdrop-blur-sm",children:V})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(l,{className:"bg-background/90 text-foreground border-0 shadow-lg backdrop-blur-sm flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),L]})}),D&&e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsxs(l,{className:"bg-green-500/90 text-white border-0 shadow-lg backdrop-blur-sm flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3"}),"Verified"]})}),e.jsx(b.div,{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{scale:.8},whileHover:{scale:1},children:e.jsxs(o,{variant:"secondary",size:"sm",onClick:re,className:"bg-background/90 text-foreground hover:bg-background border-0 shadow-lg backdrop-blur-sm",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-foreground group-hover:text-primary transition-colors leading-tight mb-2",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:j})]}),G&&e.jsx(b.div,{className:"mb-5 p-4 bg-gradient-to-br from-primary/10 via-primary/5 to-brand-teal/10 rounded-2xl border border-primary/20 relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"month"===G.period?"Monthly Plan":"Yearly Plan"})]}),e.jsxs(l,{className:"bg-gradient-to-r from-primary to-brand-teal text-white border-0 shadow-md px-3 py-1 text-xs font-semibold rounded-full",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"month"===G.period?"Popular":"Best Value"]})]}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsx(u,{pkrAmount:te,size:"lg",variant:"highlight",className:"bg-gradient-to-r from-primary to-brand-teal bg-clip-text text-transparent text-2xl font-bold"}),e.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["/",M.find(e=>e.id===R)?.name.toLowerCase()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Secure Access"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3 text-brand-teal"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:F.find(e=>e.id===Y)?.name})]})]})]})}),e.jsxs("div",{className:"mb-4 space-y-3",children:[X().length>1||Z().length>1?e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>Q(!K),className:"w-full text-xs",children:[K?"Hide":"Customize"," Plan Options"]}):null,K&&e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Type"}),e.jsxs(n,{value:Y,onValueChange:W,children:[e.jsx(c,{className:"h-8 text-xs",children:e.jsx(d,{})}),e.jsx(m,{children:X().map(t=>e.jsx(p,{value:t.id,className:"text-xs",children:t.name},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Duration"}),e.jsxs(n,{value:R,onValueChange:q,children:[e.jsx(c,{className:"h-8 text-xs",children:e.jsx(d,{})}),e.jsx(m,{children:Z().map(t=>e.jsx(p,{value:t.id,className:"text-xs",children:t.name},t.id))})]})]})]})})]}),e.jsxs("div",{className:"space-y-2 mb-5",children:[T&&T.length>0&&T.slice(0,3).map((t,r)=>e.jsxs(b.div,{className:"flex items-center gap-3 text-sm",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:.1*r},viewport:{once:!0},children:[e.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-primary to-brand-teal rounded-full flex items-center justify-center flex-shrink-0 shadow-sm",children:e.jsx(x,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"text-muted-foreground font-medium line-clamp-1",children:t})]},r)),T&&T.length>3&&e.jsxs("div",{className:"text-xs text-muted-foreground ml-8",children:["+",T.length-3," more features"]})]}),e.jsxs(b.div,{className:"space-y-2",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[e.jsxs(o,{className:"w-full bg-gradient-to-r from-primary via-primary to-brand-teal hover:from-primary/90 hover:via-primary/90 hover:to-brand-teal/90 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] relative overflow-hidden group/btn",onClick:re,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"text-base",children:"View Details"}),e.jsx(I,{className:"w-4 h-4 opacity-70 group-hover/btn:translate-x-1 transition-transform duration-300"})]})]}),e.jsxs(o,{variant:"outline",className:"w-full border-primary/30 text-primary hover:bg-primary/10",onClick:()=>{if(!G)return void U({title:"No pricing available",description:"This product doesn't have pricing information available.",variant:"destructive"});B({id:z,name:s,category:V,subscription_type:Y,subscription_period:R,price:te,custom_price:te,main_image_url:P,pricing_plans:E}),U({title:"Added to cart!",description:`${s} (${F.find(e=>e.id===Y)?.name}) added to your cart.`})},disabled:!G,children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),se?"Update in Cart":"Add to Cart"]})]})]})]})})})},H=["All","AI","SEO","Design","Video","Creative","Writing","Productivity"],$=()=>{const[a,i]=r.useState("All"),[n,c]=r.useState(""),[d,m]=r.useState([]),[p,x]=r.useState(!0),[u,h]=r.useState({}),[g,y]=r.useState(0),[b,v]=r.useState(""),{getTotalItems:N}=f(),w=t(),_="toolsy_products_cache",S="toolsy_plans_cache",C="toolsy_cache_timestamp";r.useEffect(()=>{(async()=>{if((()=>{const e=localStorage.getItem(C);return!!e&&Date.now()-parseInt(e)<3e5})()&&(()=>{try{const e=localStorage.getItem(_),t=localStorage.getItem(S);if(e&&t)return m(JSON.parse(e)),h(JSON.parse(t)),!0}catch(e){}return!1})())return y(100),v("Loaded from cache"),void setTimeout(()=>{v(""),x(!1)},1e3);x(!0),y(0),v("Fetching products...");try{const{data:e,error:t}=await j.from("products").select("*").order("created_at",{ascending:!1});if(t)throw t;m(e||[]),y(50),v("Products loaded, fetching pricing plans...");const r=(e||[]).map(e=>e.id);if(r.length>0){const{data:s,error:a}=await j.from("pricing_plans").select("*").in("product_id",r).eq("is_enabled",!0);if(a)throw a;const i={};s?.forEach(e=>{i[e.product_id]||(i[e.product_id]=[]),i[e.product_id].push(e)}),h(i),y(100),v("All data loaded!"),((e,r)=>{try{localStorage.setItem(_,JSON.stringify(e)),localStorage.setItem(S,JSON.stringify(r)),localStorage.setItem(C,Date.now().toString())}catch(t){}})(e||[],i),setTimeout(()=>{v(""),x(!1)},1e3)}else y(100),v("No products found"),setTimeout(()=>{v(""),x(!1)},1e3)}catch(e){v("Error loading data"),setTimeout(()=>{v(""),x(!1)},2e3)}})()},[]);const k=d.filter(e=>{const t="All"===a||e.category===a,r=e.name.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase());return t&&r});return p?e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(s,{}),e.jsx("main",{className:"flex-1 w-full py-12 px-2 sm:px-4 flex items-center justify-center",children:e.jsx(P,{progress:g,step:b,text:"Loading Premium Tools..."})})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"All Tools | Toolsy Store",description:"Browse our complete collection of premium AI and SEO tools at unbeatable prices. Find the perfect tool for your digital needs with genuine licenses and 24/7 support.",canonicalPath:"/tools"}),e.jsx(V,{type:"tools",products:d}),e.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[e.jsx(s,{}),e.jsx("main",{className:"flex-1 w-full py-12 px-2 sm:px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8 text-center bg-gradient-to-r from-primary to-brand-teal bg-clip-text text-transparent",style:{fontFamily:"Montserrat, sans-serif"},children:"All Tools"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx(O,{className:"w-5 h-5 text-muted-foreground mr-2 self-center"}),H.map(t=>e.jsx(l,{variant:a===t?"default":"outline",className:"cursor-pointer px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm "+(a===t?"bg-primary text-primary-foreground":"hover:bg-accent"),onClick:()=>i(t),children:t},t))]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-full sm:w-64 flex items-center gap-2 bg-card rounded-lg px-2 py-1 border border-border",children:[e.jsx(z,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(T,{type:"text",placeholder:"Search tools...",value:n,onChange:e=>c(e.target.value),className:"bg-transparent border-none focus:ring-0 text-sm w-full"})]}),N()>0&&e.jsxs(o,{onClick:()=>w("/cart"),className:"bg-gradient-to-r from-primary to-brand-teal hover:from-primary/90 hover:to-brand-teal/90 text-white",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Cart (",N(),")"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-6",children:k.length>0?k.map(t=>e.jsx(E,{name:t.name,description:t.description,features:t.features,image:t.main_image_url||"",category:t.category,rating:t.rating,slug:t.slug,productId:t.id,pricingPlans:u[t.id]||[]},t.id)):(""!==n.trim()||"All"!==a)&&e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("p",{className:"text-muted-foreground text-base sm:text-lg mb-4",children:n?`No tools found matching "${n}"`:"No tools found in this category."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Can't find what you're looking for? Contact us on WhatsApp and we'll help you find the perfect tool!"}),e.jsxs(o,{variant:"whatsapp",size:"default",onClick:()=>{const e=`Hi! I'm looking for a tool but couldn't find it on your website. ${n?`I searched for: "${n}"`:""} Can you help me find what I need?`;window.open(`https://wa.me/923415685257?text=${encodeURIComponent(e)}`,"_blank")},children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Ask on WhatsApp"]})]})})})]})})]})]})},B=()=>e.jsx($,{});export{B as default};
