import{r as e}from"./router-BXFWiZbc.js";import{s as t}from"./index-ud4XQfz4.js";const r=r=>{const[s,a]=e.useState([]),[o,i]=e.useState(!0),[n,c]=e.useState(null),f=async()=>{if(!r)return a([]),void i(!1);try{i(!0);const{data:e,error:s}=await t.from("testimonials").select("*").eq("product_slug",r).eq("verified",!0).order("created_at",{ascending:!1});if(s)throw s;a(e||[])}catch(e){c(e instanceof Error?e.message:"Failed to fetch testimonials"),a([])}finally{i(!1)}};return e.useEffect(()=>{f()},[r]),{testimonials:s,loading:o,error:n,refetch:f}};export{r as u};
